<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lee.dao.MessageDao">

    <sql id="baseSql">
        <if test="id != null and id != ''">
            id,
        </if>
        <if test="fromid != null and fromid != ''">
            fromid,
        </if>
        <if test="fromtype != null and fromtype != ''">
            fromtype,
        </if>
        <if test="toid != null and toid != ''">
            toid,
        </if>
        <if test="messagetype != null and messagetype != ''">
            messagetype,
        </if>
        <if test="entityid != null and entityid != ''">
            entityid,
        </if>
        <if test="time != null">
            time,
        </if>
        <if test="deleted != null and deleted != ''">
            deleted
        </if>
    </sql>


    <insert id="addMessage" parameterType="com.lee.entity.Message">
        INSERT INTO message(<include refid="baseSql"></include>)
        VALUES (
        <if test="id != null and id != ''">
            #{id},
        </if>
        <if test="fromid != null and fromid != ''">
            #{fromid},
        </if>
        <if test="fromtype != null and fromtype != ''">
            #{fromtype},
        </if>
        <if test="toid != null and toid != ''">
            #{toid},
        </if>
        <if test="messagetype != null and messagetype != ''">
            #{messagetype},
        </if>
        <if test="entityid != null and entityid != ''">
            #{entityid},
        </if>
        <if test="time != null">
            #{time},
        </if>
        <if test="deleted != null and deleted != ''">
            #{deleted}
        </if>
        )
    </insert>


    <resultMap id="getMessage" type="com.lee.vo.MessageVo">

    </resultMap>
    <select id="getMessage" resultMap="getMessage">

    </select>
</mapper>
